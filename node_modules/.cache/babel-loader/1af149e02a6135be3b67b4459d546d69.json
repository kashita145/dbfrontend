{"ast":null,"code":"var _jsxFileName = \"/Users/kashita/Desktop/DB/db_project/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\"; //import Table from \"react-bootstrap/Table\";\n\nimport Dashboard from \"./components/Dashboard\"; // import Toast from \"react-bootstrap/Toast\";\n// import Header from \"./components/Header\";\n// import ProcessTable from \"./components/ProcessTable\";\n\nimport Footer from \"./components/Footer\"; // import Filters from \"./components/Filters\";\n// import TableRows from \"./components/TableRows\";\n// import TableHead from \"./components/TableHead\";\n//import ProcessTable from \"./components/ProcessTable\";\n//import Filter from \"./components/Filter\";\n// import StartProcess from \"./components/StartProcess\";\n// import Dashboard from \"./components/Dashboard\";\n\nimport Login from \"./components/Login\";\nimport authHeader from \"./auth.js\"; // import MyNavbar from \"./components/MyNavbar\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const MAIN_SERVER = \"http://localhost:4000/\"; // const details = [\n  //   {\n  //     server: \"scripts\",\n  //     process: [\"p1\", \"p2\", \"process1\"],\n  //   },\n  // ];\n\n  const [processes, setProcesses] = useState([]);\n  const [processNames, setProcessNames] = useState([]);\n  const [serverNames, setServerNames] = useState([]); // const tableHeadDetails = [\n  //   \"Start Time\",\n  //   \"Server Name\",\n  //   \"Process Name\",\n  //   \"Instance ID\",\n  //   \"Status\",\n  //   \"Action\",\n  //   \"Details\",\n  // ];\n  // Filters\n\n  const [filters, setFilters] = useState({\n    serverId: 0,\n    processId: 0,\n    processName: \"\",\n    serverName: \"\",\n    status: \"\",\n    startDate: \"\",\n    endDate: \"\"\n  });\n\n  const filterProcesses = (processId, serverId, processName, serverName, status, startDate, endDate) => {\n    setFilters({ ...filters,\n      processId: processId === \"\" ? 0 : parseInt(processId),\n      serverId: serverId === \"\" ? 0 : parseInt(serverId),\n      processName: processName === \"\" ? \"\" : processName,\n      serverName: serverName === \"\" ? \"\" : serverName,\n      status: status === \"\" ? \"\" : status,\n      startDate: startDate === \"\" ? \"\" : startDate,\n      endDate: endDate === \"\" ? \"\" : endDate\n    });\n  };\n\n  const stopProcess = (serverId, osId) => {\n    console.log(serverId, osId);\n    const msg = {\n      osId: osId,\n      serverIp: serverId.ipAddress,\n      serverPort: serverId.port,\n      headers: {\n        \"Content-type\": \"application/json\",\n        mode: \"cors\"\n      }\n    };\n    axios.post(\"http://localhost:4000/api/server/processes/stop\", msg).then(res => {//console.log(res);\n    }).catch(err => {\n      alert(\"Failed to stop process\");\n    });\n  }; //getting status of all processes\n\n\n  useEffect(() => {\n    axios.get(\"http://localhost:4000/api/server/processes/status\", {\n      headers: authHeader()\n    }).then(resp => {\n      setProcesses(resp.data);\n    }).catch(err => {\n      console.log(err);\n    });\n    const interval = setInterval(() => {\n      axios.get(\"http://localhost:4000/api/server/processes/status\", {\n        headers: authHeader()\n      }).then(resp => {\n        setProcesses(resp.data); //console.log(resp.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    }, 15 * 1000);\n    return () => clearInterval(interval);\n  }, []); //get request for all process names - stored in processNames\n\n  useEffect(() => {\n    axios.get(\"http://localhost:4000/api/server/processes/processList\").then(resp => {\n      setProcessNames(resp.data); //console.log(resp.data);\n    }).catch(err => {\n      //console.log(err);\n      alert(\"Fetching server names failed\");\n    });\n  }, []); //get request for all server names - stored in serverNames\n\n  useEffect(() => {\n    axios.get(\"http://localhost:4000/api/server/processes/serverList\").then(resp => {\n      setServerNames(resp.data); //console.log(resp.data);\n    }).catch(err => {\n      //console.log(err);\n      alert(\"Fetching server names failed\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      component: Login\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      exact: true,\n      children: [/*#__PURE__*/_jsxDEV(Dashboard, {\n        filterProcesses: filterProcesses,\n        processes: processes,\n        processNames: processNames,\n        serverNames: serverNames,\n        filters: filters,\n        stopProcess: stopProcess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"gxsqsocyjcTzK8YazIs0kN3DTns=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/kashita/Desktop/DB/db_project/frontend/src/App.js"],"names":["useState","useEffect","BrowserRouter","Router","Route","axios","Dashboard","Footer","Login","authHeader","App","MAIN_SERVER","processes","setProcesses","processNames","setProcessNames","serverNames","setServerNames","filters","setFilters","serverId","processId","processName","serverName","status","startDate","endDate","filterProcesses","parseInt","stopProcess","osId","console","log","msg","serverIp","ipAddress","serverPort","port","headers","mode","post","then","res","catch","err","alert","get","resp","data","interval","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\n\n//import Table from \"react-bootstrap/Table\";\nimport Dashboard from \"./components/Dashboard\";\n// import Toast from \"react-bootstrap/Toast\";\n// import Header from \"./components/Header\";\n// import ProcessTable from \"./components/ProcessTable\";\nimport Footer from \"./components/Footer\";\n// import Filters from \"./components/Filters\";\n// import TableRows from \"./components/TableRows\";\n// import TableHead from \"./components/TableHead\";\n//import ProcessTable from \"./components/ProcessTable\";\n//import Filter from \"./components/Filter\";\n// import StartProcess from \"./components/StartProcess\";\n// import Dashboard from \"./components/Dashboard\";\nimport Login from \"./components/Login\";\nimport authHeader from \"./auth.js\";\n// import MyNavbar from \"./components/MyNavbar\";\n\nfunction App() {\n  const MAIN_SERVER = \"http://localhost:4000/\";\n  // const details = [\n  //   {\n  //     server: \"scripts\",\n  //     process: [\"p1\", \"p2\", \"process1\"],\n  //   },\n  // ];\n\n  const [processes, setProcesses] = useState([]);\n  const [processNames, setProcessNames] = useState([]);\n  const [serverNames, setServerNames] = useState([]);\n\n  // const tableHeadDetails = [\n  //   \"Start Time\",\n  //   \"Server Name\",\n  //   \"Process Name\",\n  //   \"Instance ID\",\n  //   \"Status\",\n  //   \"Action\",\n  //   \"Details\",\n  // ];\n  // Filters\n\n  const [filters, setFilters] = useState({\n    serverId: 0,\n    processId: 0,\n    processName: \"\",\n    serverName: \"\",\n    status: \"\",\n    startDate: \"\",\n    endDate: \"\",\n  });\n\n  const filterProcesses = (\n    processId,\n    serverId,\n    processName,\n    serverName,\n    status,\n    startDate,\n    endDate\n  ) => {\n    setFilters({\n      ...filters,\n      processId: processId === \"\" ? 0 : parseInt(processId),\n      serverId: serverId === \"\" ? 0 : parseInt(serverId),\n      processName: processName === \"\" ? \"\" : processName,\n      serverName: serverName === \"\" ? \"\" : serverName,\n      status: status === \"\" ? \"\" : status,\n      startDate: startDate === \"\" ? \"\" : startDate,\n      endDate: endDate === \"\" ? \"\" : endDate,\n    });\n  };\n\n  const stopProcess = (serverId, osId) => {\n    console.log(serverId, osId);\n    const msg = {\n      osId: osId,\n      serverIp: serverId.ipAddress,\n      serverPort: serverId.port,\n\n      headers: {\n        \"Content-type\": \"application/json\",\n        mode: \"cors\",\n      },\n    };\n    axios\n      .post(\"http://localhost:4000/api/server/processes/stop\", msg)\n      .then((res) => {\n        //console.log(res);\n      })\n      .catch((err) => {\n        alert(\"Failed to stop process\");\n      });\n  };\n\n  //getting status of all processes\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:4000/api/server/processes/status\", {\n        headers: authHeader(),\n      })\n      .then((resp) => {\n        setProcesses(resp.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const interval = setInterval(() => {\n      axios\n        .get(\"http://localhost:4000/api/server/processes/status\", {\n          headers: authHeader(),\n        })\n        .then((resp) => {\n          setProcesses(resp.data);\n          //console.log(resp.data);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }, 15 * 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  //get request for all process names - stored in processNames\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:4000/api/server/processes/processList\")\n      .then((resp) => {\n        setProcessNames(resp.data);\n        //console.log(resp.data);\n      })\n      .catch((err) => {\n        //console.log(err);\n        alert(\"Fetching server names failed\");\n      });\n  }, []);\n\n  //get request for all server names - stored in serverNames\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:4000/api/server/processes/serverList\")\n      .then((resp) => {\n        setServerNames(resp.data);\n        //console.log(resp.data);\n      })\n      .catch((err) => {\n        //console.log(err);\n        alert(\"Fetching server names failed\");\n      });\n  }, []);\n\n  return (\n    <Router>\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/\" exact>\n        {/* <div className=\"App\">\n          <MyNavbar text=\"Logout\" />\n          <div className=\"page-heading\">Dashboard</div>\n          <div className=\"container\"> */}\n        <Dashboard\n          filterProcesses={filterProcesses}\n          processes={processes}\n          processNames={processNames}\n          serverNames={serverNames}\n          filters={filters}\n          stopProcess={stopProcess}\n        />\n\n        {/* <Filter\n              filterProcesses={filterProcesses}\n              processes={processes}\n              processNames={processNames}\n              serverNames={serverNames}\n            /> */}\n        {/* \n          <ProcessTable\n            processes={processes}\n            running={true}\n            filters={filterProcesses}\n            details={tableHeadDetails}\n          /> */}\n        {/* <div className=\"custom-container\">\n              <h3>Process Logs</h3>\n              <br />\n              <Table responsive hover className=\"text-center\">\n                <TableHead/>\n                <TableRows\n                  processes={processes}\n                  running={true}\n                  filters={filters}\n                  stopProcess={stopProcess}\n                />\n              </Table>\n            </div> */}\n\n        <Footer />\n      </Route>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}