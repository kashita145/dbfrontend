{"ast":null,"code":"var _jsxFileName = \"/Users/kashita/Desktop/DB/db_project/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport Table from \"react-bootstrap/Table\";\nimport Header from \"./components/Header\";\nimport TableRows from \"./components/TableRows\";\nimport TableHead from \"./components/TableHead\"; //import ProcessTable from \"./components/ProcessTable\";\n\nimport Filters from \"./components/Filters\";\nimport StartProcess from \"./components/StartProcess\";\nimport Login from \"./Login\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const details = [{\n    server: \"scripts\",\n    process: [\"p1\", \"p2\", \"process1\"]\n  } // {\n  //   server: \"server2\",\n  //   process: [\"p1\", \"p2\", \"p3\"],\n  // },\n  // {\n  //   server: \"server3\",\n  //   process: [\"p1\", \"p4\"],\n  // },\n  ];\n  const runningProcesses = [{\n    startTime: \"04/19/17 04:34:22 +0000\",\n    serverName: \"CyberDust.internal\",\n    processName: \"query_tests\",\n    instanceID: 114,\n    Status: \"10\",\n    serverId: 1,\n    processId: 1,\n    status: \"Completed\"\n  }, {\n    startTime: \"05/23/17 04:34:22 +1200\",\n    serverName: \"Skynet.dedicated\",\n    processName: \"transaction_checks\",\n    instanceID: 4450,\n    Status: \"60\",\n    serverId: 2,\n    processId: 2,\n    status: \"Failed\"\n  }, {\n    startTime: \"14/06/17 04:34:22 +0000\",\n    serverName: \"Perplexed\",\n    processName: \"rollback_execute\",\n    instanceID: 8901,\n    Status: \"30\",\n    serverId: 3,\n    processId: 3,\n    status: \"In Progress\"\n  }, {\n    startTime: \"04/23/17 04:34:22 +1930\",\n    serverName: \"Grimlock.lantern\",\n    processName: \"deadlock_detect\",\n    instanceID: 1230,\n    Status: \"40\",\n    serverId: 4,\n    processId: 4,\n    status: \"Failed\"\n  }, {\n    startTime: \"04/23/17 04:34:22 +0800\",\n    serverName: \"CyberDust.internal\",\n    processName: \"data_parser\",\n    instanceID: 240,\n    Status: \"90\",\n    serverId: 5,\n    processId: 5,\n    status: \"Completed\"\n  }]; //fetched from database\n\n  const completedProcesses = [{\n    startTime: \"04/19/17 04:34:22 +0000\",\n    serverName: \"CyberDust.domain\",\n    processName: \"query_tests\",\n    instanceID: 1301,\n    Status: \"Completed\",\n    serverId: 6,\n    processId: 6,\n    status: \"Completed\"\n  }, {\n    startTime: \"05/23/17 04:34:22 +1200\",\n    serverName: \"NoNameServer\",\n    processName: \"transaction_checks\",\n    instanceID: 2002,\n    Status: \"Failed\",\n    serverId: 7,\n    processId: 7,\n    status: \"Completed\"\n  }, {\n    startTime: \"14/06/17 04:34:22 +0000\",\n    serverName: \"Perplexed\",\n    processName: \"rollback_execute\",\n    instanceID: 2302,\n    Status: \"Completed\",\n    serverId: 8,\n    processId: 8,\n    status: \"Completed\"\n  }, {\n    startTime: \"04/23/17 04:34:22 +1930\",\n    serverName: \"Grimlock.lantern\",\n    processName: \"deadlock_detect\",\n    instanceID: 2221,\n    Status: \"Completed\",\n    serverId: 9,\n    processId: 9,\n    status: \"Completed\"\n  }];\n  const [processes, setProcesses] = useState([]);\n  const tableHeadDetails = [\"Start Time\", \"Server Name\", \"Process Name\", \"Instance ID\", \"Status\", \"Action\", \"Details\"]; // Filters\n\n  const [filters, setFilters] = useState({\n    serverId: 0,\n    processId: 0,\n    processName: \"\",\n    serverName: \"\",\n    status: \"\"\n  });\n\n  const filterProcesses = (processId, serverId, processName, serverName, status) => {\n    setFilters({ ...filters,\n      processId: processId === \"\" ? 0 : parseInt(processId),\n      serverId: serverId === \"\" ? 0 : parseInt(serverId),\n      processName: processName === \"\" ? \"\" : processName,\n      serverName: serverName === \"\" ? \"\" : serverName,\n      status: status === \"\" ? \"\" : status\n    });\n  };\n\n  const getInitialData = async () => {\n    await axios.get(\"http://localhost:4000/api/server/processes/status\").then(resp => {\n      console.log(resp);\n      setProcesses(resp.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }; // getInitialData();\n  // useEffect(() => {\n  //   let initialState;\n  //   setProcesses(initialState);\n  //   console.log(processes);\n  // }, [processes]);\n\n\n  useEffect(() => {\n    getInitialData();\n    const interval = setInterval(async () => {\n      let processStatus;\n      await axios.get(\"http://localhost:4000/api/server/processes/status\").then(resp => {\n        processStatus = resp.data;\n      }).catch(err => {\n        console.log(err);\n      });\n      setProcesses(processStatus);\n      console.log(processes);\n    }, 15 * 1000);\n    return () => clearInterval(interval);\n  }, [processes]);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/Login\",\n      component: Login\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(StartProcess, {\n          details: details\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Filters, {\n          filterProcesses: filterProcesses,\n          processes: processes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          responsive: true,\n          striped: true,\n          bordered: true,\n          hover: true,\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            details: tableHeadDetails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableRows, {\n            processes: processes,\n            running: true,\n            filters: filters\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"gorweQ2Ci4w+e0FgiqtGV5uA4Mc=\");\n\n_c = App;\nexport default App; // useEffect(() => {\n//   let initialState;\n//   const getInitialData = async () => {\n//     await axios\n//       .get(\"http://localhost:4000/api/server/processes/status\")\n//       .then((resp) => {\n//         initialState = resp.data;\n//         console.log(resp);\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//       });\n//   };\n//   getInitialData();\n//   setProcesses(initialState);\n//   console.log(processes);\n// }, [processes]);\n// useEffect(() => {\n//   const interval = setInterval(async () => {\n//     let processStatus;\n//     await axios\n//       .get(\"http://localhost:4000/api/server/processes/status\")\n//       .then((resp) => {\n//         processStatus = resp.data;\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//       });\n//     setProcesses(processStatus);\n//     console.log(processes);\n//   }, 15 * 1000);\n//   return () => clearInterval(interval);\n// }, [processes]);\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/kashita/Desktop/DB/db_project/frontend/src/App.js"],"names":["useState","useEffect","BrowserRouter","Router","Route","Link","axios","Table","Header","TableRows","TableHead","Filters","StartProcess","Login","App","details","server","process","runningProcesses","startTime","serverName","processName","instanceID","Status","serverId","processId","status","completedProcesses","processes","setProcesses","tableHeadDetails","filters","setFilters","filterProcesses","parseInt","getInitialData","get","then","resp","console","log","data","catch","err","interval","setInterval","processStatus","clearInterval"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\n\nimport Table from \"react-bootstrap/Table\";\nimport Header from \"./components/Header\";\n\nimport TableRows from \"./components/TableRows\";\nimport TableHead from \"./components/TableHead\";\n//import ProcessTable from \"./components/ProcessTable\";\n\nimport Filters from \"./components/Filters\";\nimport StartProcess from \"./components/StartProcess\";\nimport Login from \"./Login\";\n\nfunction App() {\n  const details = [\n    {\n      server: \"scripts\",\n      process: [\"p1\", \"p2\", \"process1\"],\n    },\n    // {\n    //   server: \"server2\",\n    //   process: [\"p1\", \"p2\", \"p3\"],\n    // },\n    // {\n    //   server: \"server3\",\n    //   process: [\"p1\", \"p4\"],\n    // },\n  ];\n  const runningProcesses = [\n    {\n      startTime: \"04/19/17 04:34:22 +0000\",\n      serverName: \"CyberDust.internal\",\n      processName: \"query_tests\",\n      instanceID: 114,\n      Status: \"10\",\n      serverId: 1,\n      processId: 1,\n      status: \"Completed\",\n    },\n    {\n      startTime: \"05/23/17 04:34:22 +1200\",\n      serverName: \"Skynet.dedicated\",\n      processName: \"transaction_checks\",\n      instanceID: 4450,\n      Status: \"60\",\n      serverId: 2,\n      processId: 2,\n      status: \"Failed\",\n    },\n    {\n      startTime: \"14/06/17 04:34:22 +0000\",\n      serverName: \"Perplexed\",\n      processName: \"rollback_execute\",\n      instanceID: 8901,\n      Status: \"30\",\n      serverId: 3,\n      processId: 3,\n      status: \"In Progress\",\n    },\n    {\n      startTime: \"04/23/17 04:34:22 +1930\",\n      serverName: \"Grimlock.lantern\",\n      processName: \"deadlock_detect\",\n      instanceID: 1230,\n      Status: \"40\",\n      serverId: 4,\n      processId: 4,\n      status: \"Failed\",\n    },\n    {\n      startTime: \"04/23/17 04:34:22 +0800\",\n      serverName: \"CyberDust.internal\",\n      processName: \"data_parser\",\n      instanceID: 240,\n      Status: \"90\",\n      serverId: 5,\n      processId: 5,\n      status: \"Completed\",\n    },\n  ];\n\n  //fetched from database\n  const completedProcesses = [\n    {\n      startTime: \"04/19/17 04:34:22 +0000\",\n      serverName: \"CyberDust.domain\",\n      processName: \"query_tests\",\n      instanceID: 1301,\n      Status: \"Completed\",\n      serverId: 6,\n      processId: 6,\n      status: \"Completed\",\n    },\n    {\n      startTime: \"05/23/17 04:34:22 +1200\",\n      serverName: \"NoNameServer\",\n      processName: \"transaction_checks\",\n      instanceID: 2002,\n      Status: \"Failed\",\n      serverId: 7,\n      processId: 7,\n      status: \"Completed\",\n    },\n    {\n      startTime: \"14/06/17 04:34:22 +0000\",\n      serverName: \"Perplexed\",\n      processName: \"rollback_execute\",\n      instanceID: 2302,\n      Status: \"Completed\",\n      serverId: 8,\n      processId: 8,\n      status: \"Completed\",\n    },\n    {\n      startTime: \"04/23/17 04:34:22 +1930\",\n      serverName: \"Grimlock.lantern\",\n      processName: \"deadlock_detect\",\n      instanceID: 2221,\n      Status: \"Completed\",\n      serverId: 9,\n      processId: 9,\n      status: \"Completed\",\n    },\n  ];\n\n  const [processes, setProcesses] = useState([]);\n  const tableHeadDetails = [\n    \"Start Time\",\n    \"Server Name\",\n    \"Process Name\",\n    \"Instance ID\",\n    \"Status\",\n    \"Action\",\n    \"Details\",\n  ];\n  // Filters\n  const [filters, setFilters] = useState({\n    serverId: 0,\n    processId: 0,\n    processName: \"\",\n    serverName: \"\",\n    status: \"\",\n  });\n\n  const filterProcesses = (\n    processId,\n    serverId,\n    processName,\n    serverName,\n    status\n  ) => {\n    setFilters({\n      ...filters,\n      processId: processId === \"\" ? 0 : parseInt(processId),\n      serverId: serverId === \"\" ? 0 : parseInt(serverId),\n      processName: processName === \"\" ? \"\" : processName,\n      serverName: serverName === \"\" ? \"\" : serverName,\n      status: status === \"\" ? \"\" : status,\n    });\n  };\n\n  const getInitialData = async () => {\n    await axios\n      .get(\"http://localhost:4000/api/server/processes/status\")\n      .then((resp) => {\n        console.log(resp);\n        setProcesses(resp.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  // getInitialData();\n\n  // useEffect(() => {\n  //   let initialState;\n\n  //   setProcesses(initialState);\n  //   console.log(processes);\n  // }, [processes]);\n\n  useEffect(() => {\n    getInitialData();\n\n    const interval = setInterval(async () => {\n      let processStatus;\n      await axios\n        .get(\"http://localhost:4000/api/server/processes/status\")\n        .then((resp) => {\n          processStatus = resp.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      setProcesses(processStatus);\n      console.log(processes);\n    }, 15 * 1000);\n    return () => clearInterval(interval);\n  }, [processes]);\n\n  return (\n    <Router>\n      <Header />\n      <Route path=\"/Login\" component={Login} />\n      <Route path=\"/\">\n        <div className=\"container\">\n          <StartProcess details={details} />\n\n          <Filters filterProcesses={filterProcesses} processes={processes} />\n          {/* \n          <ProcessTable\n            processes={processes}\n            running={true}\n            filters={filterProcesses}\n            details={tableHeadDetails}\n          /> */}\n\n          <Table responsive striped bordered hover className=\"text-center\">\n            <TableHead details={tableHeadDetails} />\n            <TableRows processes={processes} running={true} filters={filters} />\n          </Table>\n        </div>\n      </Route>\n    </Router>\n  );\n}\n\nexport default App;\n\n// useEffect(() => {\n//   let initialState;\n//   const getInitialData = async () => {\n//     await axios\n//       .get(\"http://localhost:4000/api/server/processes/status\")\n//       .then((resp) => {\n//         initialState = resp.data;\n//         console.log(resp);\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//       });\n//   };\n//   getInitialData();\n//   setProcesses(initialState);\n//   console.log(processes);\n// }, [processes]);\n\n// useEffect(() => {\n//   const interval = setInterval(async () => {\n//     let processStatus;\n//     await axios\n//       .get(\"http://localhost:4000/api/server/processes/status\")\n//       .then((resp) => {\n//         processStatus = resp.data;\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//       });\n//     setProcesses(processStatus);\n//     console.log(processes);\n//   }, 15 * 1000);\n//   return () => clearInterval(interval);\n// }, [processes]);\n"]},"metadata":{},"sourceType":"module"}