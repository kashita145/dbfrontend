{"ast":null,"code":"var _jsxFileName = \"/Users/kashita/Desktop/dbfrontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport Dashboard from \"./components/Dashboard\";\nimport Footer from \"./components/Footer\";\nimport Login from \"./components/Login\";\nimport authHeader from \"./auth.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const MAIN_SERVER = \"http://main-server-process-server-2.apps.123.252.203.198.nip.io/\";\n  const [processes, setProcesses] = useState([]);\n  const [processNames, setProcessNames] = useState([]);\n  const [serverNames, setServerNames] = useState([]);\n  const [filters, setFilters] = useState({\n    processName: \"\",\n    serverName: \"\",\n    status: \"\",\n    startDate: \"\",\n    endDate: \"\"\n  });\n\n  const filterProcesses = (processName, serverName, status, startDate, endDate) => {\n    setFilters({ ...filters,\n      processName: processName === \"\" ? \"\" : processName,\n      serverName: serverName === \"\" ? \"\" : serverName,\n      status: status === \"\" ? \"\" : status,\n      startDate: startDate === \"\" ? \"\" : startDate,\n      endDate: endDate === \"\" ? \"\" : endDate\n    });\n  };\n\n  const stopProcess = (serverId, osId) => {\n    console.log(serverId, osId);\n    const msg = {\n      osId: osId,\n      serverIp: serverId.ipAddress,\n      serverPort: serverId.port\n    };\n    axios.post(\"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/stop\", msg, {\n      headers: authHeader()\n    }).then(res => {\n      alert(\"Process stopped succesfully\");\n    }).catch(err => {\n      alert(\"Failed to stop process\");\n    });\n  }; //getting status of all processes\n\n\n  useEffect(() => {\n    axios.get(\"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/status\", {\n      headers: authHeader()\n    }).then(resp => {\n      setProcesses(resp.data);\n    }).catch(err => {\n      console.log(\"Failed to fetch status of processes\");\n    });\n    const interval = setInterval(() => {\n      axios.get(\"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/status\", {\n        headers: authHeader()\n      }).then(resp => {\n        setProcesses(resp.data);\n      }).catch(err => {\n        console.log(\"Failed to fetch status of processes\");\n      });\n    }, 15 * 1000);\n    return () => clearInterval(interval);\n  }, []); //get request for all process names - stored in processNames\n\n  useEffect(() => {\n    axios.get(\"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/processList\").then(resp => {\n      setProcessNames(resp.data);\n      console.log(resp.data);\n    }).catch(err => {\n      console.log(\"Fetching server names failed\");\n    });\n  }, []); //get request for all server names - stored in serverNames\n\n  useEffect(() => {\n    axios.get(\"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/serverList\").then(resp => {\n      setServerNames(resp.data);\n      console.log(resp.data);\n    }).catch(err => {\n      console.log(\"Fetching server names failed\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      exact: true,\n      component: Login\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      exact: true,\n      children: /*#__PURE__*/_jsxDEV(Dashboard, {\n        filterProcesses: filterProcesses,\n        processes: processes,\n        processNames: processNames,\n        serverNames: serverNames,\n        filters: filters,\n        stopProcess: stopProcess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"jeCz1B9wBgKlQ0NrMrxrLgvWMQo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/kashita/Desktop/dbfrontend/src/App.js"],"names":["useState","useEffect","BrowserRouter","Router","Route","axios","Dashboard","Footer","Login","authHeader","App","MAIN_SERVER","processes","setProcesses","processNames","setProcessNames","serverNames","setServerNames","filters","setFilters","processName","serverName","status","startDate","endDate","filterProcesses","stopProcess","serverId","osId","console","log","msg","serverIp","ipAddress","serverPort","port","post","headers","then","res","alert","catch","err","get","resp","data","interval","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\n\nimport Dashboard from \"./components/Dashboard\";\nimport Footer from \"./components/Footer\";\nimport Login from \"./components/Login\";\nimport authHeader from \"./auth.js\";\n\nfunction App() {\n  const MAIN_SERVER =\n    \"http://main-server-process-server-2.apps.123.252.203.198.nip.io/\";\n\n  const [processes, setProcesses] = useState([]);\n  const [processNames, setProcessNames] = useState([]);\n  const [serverNames, setServerNames] = useState([]);\n\n  const [filters, setFilters] = useState({\n    processName: \"\",\n    serverName: \"\",\n    status: \"\",\n    startDate: \"\",\n    endDate: \"\",\n  });\n\n  const filterProcesses = (\n    processName,\n    serverName,\n    status,\n    startDate,\n    endDate\n  ) => {\n    setFilters({\n      ...filters,\n      processName: processName === \"\" ? \"\" : processName,\n      serverName: serverName === \"\" ? \"\" : serverName,\n      status: status === \"\" ? \"\" : status,\n      startDate: startDate === \"\" ? \"\" : startDate,\n      endDate: endDate === \"\" ? \"\" : endDate,\n    });\n  };\n\n  const stopProcess = (serverId, osId) => {\n    console.log(serverId, osId);\n    const msg = {\n      osId: osId,\n      serverIp: serverId.ipAddress,\n      serverPort: serverId.port,\n    };\n\n    axios\n      .post(\n        \"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/stop\",\n        msg,\n        { headers: authHeader() }\n      )\n      .then((res) => {\n        alert(\"Process stopped succesfully\");\n      })\n      .catch((err) => {\n        alert(\"Failed to stop process\");\n      });\n  };\n\n  //getting status of all processes\n  useEffect(() => {\n    axios\n      .get(\n        \"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/status\",\n        {\n          headers: authHeader(),\n        }\n      )\n      .then((resp) => {\n        setProcesses(resp.data);\n      })\n      .catch((err) => {\n        console.log(\"Failed to fetch status of processes\");\n      });\n\n    const interval = setInterval(() => {\n      axios\n        .get(\n          \"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/status\",\n          {\n            headers: authHeader(),\n          }\n        )\n        .then((resp) => {\n          setProcesses(resp.data);\n        })\n        .catch((err) => {\n          console.log(\"Failed to fetch status of processes\");\n        });\n    }, 15 * 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  //get request for all process names - stored in processNames\n  useEffect(() => {\n    axios\n      .get(\n        \"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/processList\"\n      )\n      .then((resp) => {\n        setProcessNames(resp.data);\n        console.log(resp.data);\n      })\n      .catch((err) => {\n        console.log(\"Fetching server names failed\");\n      });\n  }, []);\n\n  //get request for all server names - stored in serverNames\n  useEffect(() => {\n    axios\n      .get(\n        \"http://main-server-process-server-2.apps.123.252.203.198.nip.io/api/server/processes/serverList\"\n      )\n      .then((resp) => {\n        setServerNames(resp.data);\n        console.log(resp.data);\n      })\n      .catch((err) => {\n        console.log(\"Fetching server names failed\");\n      });\n  }, []);\n\n  return (\n    <Router>\n      <Route path=\"/login\" exact component={Login} />\n      <Route path=\"/\" exact>\n        <Dashboard\n          filterProcesses={filterProcesses}\n          processes={processes}\n          processNames={processNames}\n          serverNames={serverNames}\n          filters={filters}\n          stopProcess={stopProcess}\n        />\n      </Route>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}